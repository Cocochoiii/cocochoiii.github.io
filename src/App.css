/**************************
 *  Custom Font (Centra)
 **************************/
@font-face {
  font-family: Centra;
  src: url('./assets/font/CentraNo2-Bold.ttf') format('truetype');
  font-weight: 700;
  font-display: swap;
}
@font-face {
  font-family: Centra;
  src: url('./assets/font/CentraNo2-Medium.ttf') format('truetype');
  font-weight: 500;
  font-display: swap;
}
@font-face {
  font-family: Centra;
  src: url('./assets/font/CentraNo2-Book.ttf') format('truetype');
  font-weight: 400;
  font-display: swap;
}

/**************************
 *  Root Variables
 **************************/
:root{
  /* Brand (used by Experience cards and gradients) */
  --brand-primary: rgba(221, 75, 164, 0.63);
  --brand-accent: rgba(74, 47, 189, 0.87);
  --brand-glow:#9A97FF;

  /* Safe defaults for timeline section & chips (prevents undefined vars) */
  --bg:#121212;
  --panel: rgba(255,255,255,0.05);
  --panel-border: rgba(255,255,255,0.10);
  --accent:#9A97FF;
  --muted:#a1a1aa;
  --text:#e5e7eb;
}

/**************************
 *  Reset / Base
 **************************/
* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; scroll-padding-top:75px; }
body {
  font-family:'Centra',sans-serif !important;
  font-weight:400;
  overflow-x:hidden;
  position:relative;
  background-color:#121212 !important;
  color:#fff !important;
}
h1,h2,h3,h4,h5,h6 { line-height:normal; }
p,a,li,button,ul { line-height:normal; text-decoration:none; }
a:hover { text-decoration:none; }
img { width:100%; height:auto; }
button { border:0; background-color:transparent; }
input:focus, textarea:focus, select:focus { outline:none; }
@media (min-width:1700px){
  main .container { max-width:100%; padding:0 150px; }
}
p.success{ color:green; }
p.danger{ color:red; }

/**************************
 *  Navbar
 **************************/
nav.navbar {
  padding:18px 0;
  position:fixed;
  width:100%;
  top:0;
  z-index:9999;
  transition:.32s ease-in-out;
}
nav.navbar.scrolled { padding:0; background-color:#121212; }

/* 统一以图片高度控制品牌区尺寸，避免冲突 */
nav.navbar a.navbar-brand { width: auto; padding: 0; }
nav.navbar .navbar-brand img {
  height: 80px;
  width: auto !important;   /* 覆盖全局 img{width:100%} */
  display: block;
  transition: height .2s ease;
}
nav.navbar.scrolled .navbar-brand img { height: 40px; }

nav.navbar .navbar-nav .nav-link.navbar-link{
  font-weight:400; color:#fff !important; letter-spacing:.8px; padding:0 25px; font-size:18px; opacity:.75;
}
nav.navbar .navbar-nav a.nav-link.navbar-link:hover,
nav.navbar .navbar-nav a.nav-link.navbar-link.active { opacity:1; }
span.navbar-text { display:flex; align-items:center; }

.social-icon { display:inline-block; margin-left:14px; }
.social-icon a{
  position: relative;        /* 修正 ::before 定位参照 */
  overflow: hidden;          /* 光圈不外溢 */
  width:42px; height:42px; background:rgba(217,217,217,.1); display:inline-flex; border-radius:50%;
  margin-right:6px; align-items:center; justify-content:center; line-height:1; border:1px solid rgba(255,255,255,.5);
}
.social-icon a::before{
  content:""; width:42px; height:42px; position:absolute; background-color:#fff; border-radius:50%;
  transform:scale(0); transition:.3s ease-in-out;
}
.social-icon a:hover::before{ transform:scale(1); }
.social-icon a img{ width:40%; z-index:1; transition:.3s ease-in-out; }
.social-icon a:hover img{
  filter:brightness(0) saturate(100%) invert(0%) sepia(7%) saturate(98%) hue-rotate(346deg) brightness(95%) contrast(86%);
}

.navbar-text button{
  font-weight:700; color:#fff; border:1px solid #fff; padding:18px 34px; font-size:18px; margin-left:18px;
  position:relative; background-color:transparent; transition:.3s ease-in-out;
}
.navbar-text button span{ z-index:1; }
.navbar-text button::before{
  content:""; width:0%; height:100%; position:absolute; background-color:#fff; left:0; top:0; z-index:-1; transition:.3s ease-in-out;
}
.navbar-text button:hover{ color:#121212; }
.navbar-text button:hover::before{ width:100%; height:100%; position:absolute; }
nav.navbar .navbar-toggler:active, nav.navbar .navbar-toggler:focus { outline:none; box-shadow:none; }
nav.navbar .navbar-toggler-icon{
  width:24px; height:17px; background-image:none; position:relative; border-bottom:2px solid #fff; transition:all 300ms linear; top:-2px;
}
nav.navbar .navbar-toggler-icon:focus{ border-bottom:2px solid #fff; }
nav.navbar .navbar-toggler-icon:after, nav.navbar .navbar-toggler-icon:before{
  width:24px; position:absolute; height:2px; background-color:#fff; top:0; left:0; content:''; z-index:2; transition:all 300ms linear;
}
nav.navbar .navbar-toggler-icon:after{ top:8px; }
nav.navbar .navbar-toggler[aria-expanded="true"] .navbar-toggler-icon:after{ transform:rotate(45deg); background-color:#fff; height:2px; }
nav.navbar .navbar-toggler[aria-expanded="true"] .navbar-toggler-icon:before{ transform:translateY(8px) rotate(-45deg); background-color:#fff; height:2px; }
nav.navbar .navbar-toggler[aria-expanded="true"] .navbar-toggler-icon{ border-color:transparent; }

/**************************
 *  Banner
 **************************/
.banner {
  margin-top:0; padding:200px 0 100px 0;
  background-image:url('./assets/img/banner-bg.png');
  background-position:top center; background-size:cover; background-repeat:no-repeat;
}
.banner .tagline{
  font-weight:700; letter-spacing:.8px; padding:8px 10px;
  background:linear-gradient(90.21deg, rgba(170,54,124,.5) -5.91%, rgba(74,47,189,.5) 111.58%);
  border:1px solid rgba(255,255,255,.5); font-size:20px; margin-bottom:16px; display:inline-block;
}
.banner h1{ font-size:65px; font-weight:700; letter-spacing:.8px; line-height:1; margin-bottom:20px; display:block; }
.banner p{ color:#B8B8B8; font-size:18px; letter-spacing:.8px; line-height:1.5em; width:96%; }
.banner button{ color:#fff; font-weight:700; font-size:20px; margin-top:60px; letter-spacing:.8px; display:flex; align-items:center; }
.banner button svg{ font-size:25px; margin-left:10px; transition:.3s ease-in-out; line-height:1; }
.banner button:hover svg{ margin-left:25px; }
.banner img{ animation:updown 3s linear infinite; }

@keyframes updown{
  0%{ transform:translateY(-20px) }
  50%{ transform:translateY(20px) }
  100%{ transform:translateY(-20px) }
}

/* 小屏专用的更柔和漂浮动画（修复缺失） */
@keyframes floatYSm {
  0% { transform: translateY(-6px); }
  50% { transform: translateY(6px); }
  100% { transform: translateY(-6px); }
}

.txt-rotate > .wrap { border-right:.08em solid #666; }

/**************************
 *  Skills
 **************************/
.skill { padding: 70px 0 60px 0; position:relative; } /* 修正单位并采用你的“节奏微调”数值 */
.skill-bx{
  background:#151515; border-radius:64px; text-align:center; padding:60px 50px; margin-top:-60px;
}
.skill h2{ font-size:45px; font-weight:700; }
.skill p{ color:#B8B8B8; font-size:18px; letter-spacing:.8px; line-height:1.5em; margin:14px 0 75px 0; }
.skill-slider{ width:80%; margin:0 auto; position:relative; }
.skill-slider .item img{ width:50%; margin:0 auto 15px auto; }
.background-image-left{ top:28%; position:absolute; bottom:0; width:40%; z-index:-4; }

/**************************
 *  Projects
 **************************/
.project { padding:96px 0 80px; position:relative; background-color:black; } /* 采用微调后的节奏 */
.project h2{ font-size:45px; font-weight:700; text-align:center; }
.project p{
  color:#B8B8B8; font-size:18px; letter-spacing:.8px; line-height:1.5em;
  margin:14px auto 30px auto; text-align:center; width:56%;
}

/* === Segmented pill (2 tabs) === */
.project .nav.nav-pills{
  --tabs: 2; /* 只有两个 Tab */

  position: relative;
  display: grid;
  grid-template-columns: repeat(var(--tabs), 1fr);
  gap: 0;
  padding: 6px;
  border-radius: 999px;
  width: min(780px, 92%);
  margin: 0 auto 24px;

  /* 玻璃感轨道 */
  background: radial-gradient(120% 100% at 50% 0%,
  rgba(255,255,255,.10) 0%,
  rgba(255,255,255,.05) 55%,
  rgba(255,255,255,.03) 100%);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow:
          inset 0 0 0 1px rgba(255,255,255,.06),
          0 10px 28px rgba(2,6,23,.35);
  backdrop-filter: blur(10px);
  overflow: hidden;
}

/* 渐变“滑块” */
.project .nav.nav-pills::before{
  content:"";
  position:absolute;
  inset: 6px auto 6px 6px;           /* 与 track 的 padding 对齐 */
  width: calc((100% - 12px)/var(--tabs));
  border-radius: 999px;
  background: linear-gradient(90deg, var(--brand-primary), var(--brand-accent));
  box-shadow: 0 12px 28px rgba(255, 255, 255, 0.92), inset 0 0 0 1px rgba(255,255,255,.25);
  transition: transform .38s cubic-bezier(.2,.8,.2,1), box-shadow .3s ease;
  will-change: transform;
}

/* 根据 active 的位置滑动（支持 :has ）*/
.project .nav.nav-pills:has(.nav-item:nth-child(1) .nav-link.active)::before { transform: translateX(0%); }
.project .nav.nav-pills:has(.nav-item:nth-child(2) .nav-link.active)::before { transform: translateX(100%); }

/* 可选兜底：若不支持 :has()，在容器上加 .pill-idx-1 / .pill-idx-2 */
.project .nav.nav-pills.pill-idx-1::before { transform: translateX(0%); }
.project .nav.nav-pills.pill-idx-2::before { transform: translateX(100%); }

/* 按钮文本 */
.project .nav.nav-pills .nav-item{ position: relative; z-index: 1; }
.project .nav.nav-pills .nav-link{
  height: 48px;
  border-radius: 999px;
  background: transparent !important;
  border: 0 !important;
  color: rgba(255,255,255,.75);
  font-weight: 700;
  font-size: 16px;
  letter-spacing: .4px;
  display: grid;
  place-items: center;
  transition: color .2s ease, transform .15s ease;
}
.project .nav.nav-pills .nav-link:hover{ color: #fff; transform: translateY(-1px); }
.project .nav.nav-pills .nav-link.active{
  color: #fff !important;
  text-shadow: 0 0 16px rgba(255,255,255,.35);
}

/* 小屏优化 */
@media (max-width: 640px){
  .project .nav.nav-pills{ width: 100%; }
  .project .nav.nav-pills .nav-link{ height: 44px; font-size: 15px; }
}

/* === 项目卡片 === */
.proj-imgbx{ position:relative; border-radius:30px; overflow:hidden; margin-bottom:24px; }
.proj-imgbx::before{
  content:""; background:linear-gradient(90.21deg, var(--brand-primary) -5.91%, var(--brand-accent) 111.58%);
  opacity:.85; position:absolute; width:100%; height:0; transition:.4s ease-in-out;
}
.proj-imgbx:hover::before{ height:100%; }
.proj-txtx{
  position:absolute; text-align:center; top:65%; left:50%; transform:translate(-50%,-50%);
  transition:.5s ease-in-out; opacity:0; width:100%;
}
.proj-imgbx:hover .proj-txtx{ top:50%; opacity:1; }
.proj-txtx h4{ font-size:30px; font-weight:700; letter-spacing:.8px; line-height:1.1em; }
.proj-txtx span{ font-style:italic; font-weight:400; font-size:15px; letter-spacing:.8px; }
.background-image-right{ top:20%; position:absolute; bottom:0; width:35%; right:0; z-index:-4; }

/* 提升可读性：标题/副标题阴影 & 背景暗化层 */
.proj-imgbx a,
.proj-txtx,
.proj-txtx h4,
.proj-txtx span{
  color: #fff !important;
  text-decoration: none;
}
.proj-txtx h4{
  text-shadow: 0 6px 20px rgba(0,0,0,.55), 0 2px 6px rgba(0,0,0,.45);
}
.proj-txtx span{
  opacity: .95;
  text-shadow: 0 2px 10px rgba(0,0,0,.4);
}
.proj-imgbx::after{
  content:"";
  position:absolute; inset:0;
  background:
          radial-gradient(60% 40% at 30% 30%, rgba(0,0,0,0) 0 40%, rgba(0,0,0,.35) 70%),
          linear-gradient(180deg, rgba(0,0,0,0) 30%, rgba(0,0,0,.45) 80%);
  z-index:1; pointer-events:none;
}
.proj-txtx{ z-index: 2; }

/**************************
 *  Contact
 **************************/
.contact{
  background: linear-gradient(90.21deg, var(--brand-primary) -5.91%, var(--brand-accent) 111.58%);
  padding:56px 0 96px; /* 采用微调后的节奏 */
}
.contact img{ width:92%; }
.contact h2{ font-size:45px; font-weight:700; margin-bottom:30px; }
.contact form input, .contact form textarea{
  width:100%; background:rgba(255,255,255,.1); border:1px solid rgba(255,255,255,.5); border-radius:20px; color:#fff;
  margin:0 0 8px 0; padding:18px 26px; font-weight:500; font-size:18px; letter-spacing:.8px; transition:.3s ease-in-out;
}
.contact form input:focus, .contact form textarea:focus{ background:#fff; color:#121212; }
.contact form input::placeholder, .contact form textarea::placeholder{ font-size:16px; font-weight:400; color:#fff; }
.contact form input:focus::placeholder, .contact form textarea:focus::placeholder{ color:#121212; opacity:.8; }
.contact form button{
  font-weight:700; color:#000; background-color:#fff; padding:14px 48px; font-size:18px; margin-top:25px; border-radius:0; position:relative; transition:.3s ease-in-out;
}
.contact form button span{ z-index:1; position:relative; }
.contact form button:hover{ color:#fff; }
.contact form button::before{
  content:""; background:#121212; width:0; height:100%; position:absolute; top:0; left:0; z-index:0; transition:.3s ease-in-out;
}
.contact form button:hover::before{ width:100%; }

/**************************
 *  Footer
 **************************/
.footer{
  padding: 36px 0 50px;   /* 统一用微调版本 */
  background-image:url('./assets/img/footer-bg.png');
  background-position:center center; background-size:cover; background-repeat:no-repeat;
}
.newsletter-bx{
  background:#FFFFFF; border-radius:55px; color:#121212; padding:85px 125px; margin-bottom:80px; margin-top:-122px;
}
.newsletter-bx h3{ font-weight:700; letter-spacing:.5px; line-height:1.2em; }
.new-email-bx{ background:#fff; padding:5px; border-radius:20px; position:relative; z-index:0; display:flex; align-items:center; }
.new-email-bx::before{
  content:""; background: linear-gradient(90.21deg, var(--brand-primary) -5.91%, var(--brand-accent) 111.58%);
  border-radius:20px; position:absolute; z-index:-1; top:-1px; left:-1px; bottom:-1px; right:-1px;
}
.new-email-bx::after{ content:""; background:#fff; border-radius:20px; position:absolute; z-index:-1; top:0; left:0; bottom:0; right:0; }
.new-email-bx input{ width:100%; color:#121212; font-weight:500; background:transparent; border:0; padding:0 15px; }
.new-email-bx button{
  background: linear-gradient(90.21deg, var(--brand-primary) -5.91%, var(--brand-accent) 111.58%);
  padding:20px 65px; color:#fff; font-weight:500; letter-spacing:.5px; border-radius:18px;
}
.footer img{ width:20%; }
.footer p{ font-weight:400; font-size:14px; color:#B8B8B8; letter-spacing:1.5px; margin-top:30px; }

/**************************
 *  Utilities
 **************************/
section[id] { scroll-margin-top: 84px; }   /* 固定导航时避免锚点被遮挡 */

/* 避免相邻 section 因 margin 折叠导致的“忽大忽小” */
section { overflow: visible; }

/**************************
 *  Section Spacing — fine tune
 **************************/
.do.wrap{ padding-bottom: 44px; }               /* What I Do -> Education 变小 */
.do.wrap + .education{ margin-top: -8px; }      /* Education 略上提 */

.education{
  padding-top: 64px;
  padding-bottom: 112px;                         /* Education -> Skills 拉开距离 */
}

.xp-wrap{ padding: 64px 0; }                    /* Experience 区节奏 */

@media (min-width: 1200px){
  .education h2, .project h2, .skill h2{ margin-bottom: 24px; }
  .project p, .skill p{ line-height: 1.6; }
}

/**************************
 *  Responsive polish
 **************************/
@media (max-width: 768px){
  html { scroll-padding-top: 64px; }            /* 顶部固定导航更矮 */
  nav.navbar { padding: 12px 0; }
  nav.navbar .navbar-brand img { height: 32px; }
  nav.navbar .navbar-nav .nav-link.navbar-link{ padding: 10px 12px; font-size: 16px; }
  .social-icon a{ width:36px; height:36px; }
  .navbar-text button{ padding:12px 18px; font-size:16px; margin-left:12px; }

  .education{ padding-top: 52px; padding-bottom: 96px; }
  .skill{ padding-top: 60px; }
  .xp-wrap{ padding: 56px 0; }
  .project{ padding: 72px 0 64px; }
  .contact{ padding: 56px 0 96px; }

  .newsletter-bx { padding: 28px 20px; margin-top: -60px; }
  .footer img { width: 42%; }
}

@media (max-width: 992px){
  .banner { padding: 160px 0 72px; }
  .banner p { font-size: 16px; }
  .banner button { margin-top: 32px; font-size: 18px; }

  .do-grid { grid-template-columns: 1fr; gap: 22px; }
  .do-hero { width: min(92%, 640px); }
  .tool-row { grid-template-columns: repeat(3, minmax(70px, 1fr)); gap: 18px; }
  .tool-icon i { font-size: 48px; }
}
@media (max-width: 768px){
  .banner { padding: 128px 0 56px; }
  .banner img{ margin-top: 24px; animation: floatYSm 5s ease-in-out infinite; }
  .edu-grid { gap: 14px; }
  .edu-card { padding: 16px; border-radius: 18px; }
  .edu-head h4 { font-size: 18px; }
}

/* Experience 卡片 — 触屏禁用 3D 倾斜，改为平面阴影，正文靠左更易读 */
@media (hover: none), (pointer: coarse){
  .xp-card { transform: none !important; box-shadow: 0 10px 24px rgba(2,6,23,.24); }
  .xp-card:hover { transform: none; }
  .xp-body { padding: 72px 14px 14px; text-align: left; }
}

/* Projects 标签条 — 100% 宽、降低玻璃模糊以提性能（与上方宽度一致） */
@media (max-width: 768px){
  .project .nav.nav-pills { width: 100%; padding: 4px; backdrop-filter: none; background: rgba(255,255,255,.08); }
  .project .nav.nav-pills .nav-link { height: 42px; font-size: 15px; }
}

/* Skills / Contact — 更大的触控面积 */
@media (max-width: 768px){
  .skill p { font-size: 16px; }
  .contact form input, .contact form textarea { font-size: 16px; padding: 16px 18px; }
  .contact form button { padding: 12px 28px; font-size: 16px; }
}

/**************************
 *  Reveal / Decorative Effects
 **************************/
.reveal {
  opacity: 0;
  transform: translateY(22px);
  transition: opacity .6s ease, transform .6s ease;
  will-change: opacity, transform;
}
.reveal.show {
  opacity: 1;
  transform: none;
}

/* 浮动光斑（Banner 背景） */
.blob,
.blob2 {
  position: absolute;
  inset: auto;
  width: 36vmax;
  height: 36vmax;
  pointer-events: none;
  filter: blur(40px);
  opacity: .35;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #7c3aed 0%, #22d3ee 45%, transparent 60%);
  animation: floatY 12s ease-in-out infinite alternate, slowSpin 32s linear infinite;
}
.blob2 {
  width: 28vmax; height: 28vmax;
  background: radial-gradient(circle at 70% 70%, #f472b6 0%, #60a5fa 45%, transparent 60%);
  animation-duration: 14s, 40s;
}
@keyframes floatY { from { transform: translateY(-2%) } to { transform: translateY(4%) } }
@keyframes slowSpin { from { rotate: 0deg } to { rotate: 360deg } }

/* 项目卡片 3D 轻微倾斜/发光 */
.tilt {
  transform-style: preserve-3d;
  transform: perspective(900px);
  transition: transform 160ms ease, box-shadow 160ms ease;
  will-change: transform;
}
.tilt:hover { box-shadow: 0 10px 30px rgba(0,0,0,.15); }
.tilt .tilt-raise { transform: translateZ(18px); }

/* 顶部滚动进度条（抬高层级，避免被 nav 覆盖） */
.scroll-progress {
  position: fixed; top: 0; left: 0; height: 3px; z-index: 10000;
  background: linear-gradient(90deg, #22d3ee, #7c3aed);
  width: var(--progress, 0%);
}

/* 移动端与无动作偏好 */
@media (max-width: 768px) {
  .blob, .blob2 { filter: blur(50px); opacity: .28; }
}
@media (prefers-reduced-motion: reduce) {
  .reveal, .blob, .blob2, .tilt { transition: none !important; animation: none !important; }
}
